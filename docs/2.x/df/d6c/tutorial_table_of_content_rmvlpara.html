<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta name="generator" content="Doxygen 1.15.0" />
  <title>RMVL: 参数模块使用教程</title>
  <link href="../../rmvl-logo-small.png" rel="shortcut icon" type="image/x-icon" />
  <link href="../../tabs.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="../../jquery.js"></script>
  <script type="text/javascript" src="../../dynsections.js"></script>
  <script type="text/javascript" src="../../cookie.js"></script>
  <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
  <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
  <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
  <!-- ... other metadata & script includes ... -->
  <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
  </script>
  <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
  </script>
  <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeInteractiveToc.init()
  </script>
  <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeParagraphLink.init()
  </script>
  <script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeTabs.init()
  </script>
</head>
<body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
      <!--#include virtual="/google-search.html"-->
      <script type="text/javascript" src="/docs/version.js"></script>
      <table cellspacing="0" cellpadding="0">
        <tbody>
          <tr style="height: 56px;">
            <td id="projectlogo"><img alt="Logo" src="../../rmvl-logo.png" /></td>
            <td style="padding-left: 0.5em;">
              <div id="projectname">RMVL
                &#160;<span id="projectnumber">2.4.0-dev</span>
              </div>
              <div id="projectbrief">Robotic Manipulation and Vision Library</div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- end header part -->
<!-- 制作者 Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','搜索',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a href="../../dd/da0/tutorials.html">RMVL 使用教程</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">参数模块使用教程 </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>目录</h3>
<ul>
  <li class="level1 empty">
    <ul>
      <li class="level2">
        <a href="#autotoc_md358">1 参数模块简介 </a>
      </li>
      <li class="level2">
        <a href="#autotoc_md359">2 参数规范文件 </a>
      </li>
      <li class="level2">
        <a href="#autotoc_md360">3 C++ 代码生成 </a>
        <ul>
          <li class="level3">
            <a href="#autotoc_md361">3.1 rmvl_generate_para </a>
          </li>
          <li class="level3">
            <a href="#autotoc_md362">3.2 rmvl_generate_module_para </a>
          </li>
        </ul>
      </li>
      <li class="level2">
        <a href="#autotoc_md363">4 运行时加载 </a>
        <ul>
          <li class="level3">
            <a href="#autotoc_md364">4.1 加载方式 </a>
          </li>
          <li class="level3">
            <a href="#autotoc_md365">4.2 YAML 文件格式 </a>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md__2home_2zhaoxi_2_xE6_xA1_x8C_xE9_x9D_xA2_2Vision_2cv-rmvl_2rmvl_2doc_2tutorials_2modules_2tutorial__rmvlpara"></a></p>
<p><b>上一篇教程：</b><a class="el" href="../../d6/d6e/tutorial_table_of_content_modules.html">主要模块使用教程</a> <br  />
 <b>下一篇教程：</b><a class="el" href="../../d2/d9b/tutorial_table_of_content_rmvlmsg.html">消息模块使用教程</a> <br  />
</p>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md358"></a>
1 参数模块简介</h2>
<p>RMVL 中，一部分模块（涉及主要模块和扩展模块）的功能在不同运行环境或者不同需求的情况下需要有不同的参数配置，为此 RVML 将这些运行时可变的参数提炼出来，并且使用统一的管理方式，完成了参数类型、参数默认值、参数名、参数运行时加载的定义。</p>
<p>原先若有计划使用运行时参数，在</p>
<ul>
<li>调整参数名、参数默认值</li>
<li>新增某一参数类（结构体）</li>
</ul>
<p>的时候，需要在头文件以及对应源文件的位置写上大量重复的代码，管理极其不方便。为此 RMVL 参数模块定义了新的参数规范文件，这类文件以 <span class="tt">*.para</span> 为后缀，以及提供了 CMake 配置期间将 <span class="tt">*.para</span> 转换为对应 <span class="tt">*.h(hpp)</span> 以及 <span class="tt">*.cpp</span> 的 CMake 函数 <span class="tt">rmvl_generate_para</span>，该函数定义在 <span class="tt">&lt;project&gt;/cmake/RMVLCodeGenerate.cmake</span> 文件中。</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md359"></a>
2 参数规范文件</h2>
<p>这里举一个 <span class="tt">*.para</span> 文件的示例，写法与 ROS Message 的 <span class="tt">*.msg</span> 文件类似，不过参数的类型均使用 C/C++ 中的类型，并且添加了注释功能。</p>
<div class="fragment"> <div class="line"><span class="comment">#################### 光学参数 ####################</span></div> <div class="line"><span class="keywordtype">float</span> exposure = 1500&#160;&#160;<span class="comment"># 相机曝光</span></div> <div class="line"><span class="keywordtype">float</span> saturation = 100&#160;<span class="comment"># 相机饱和度</span></div> <div class="line"><span class="keywordtype">float</span> gain = 64&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment"># 相机数字增益</span></div> <div class="line"><span class="keywordtype">uint32_t</span> b_gain = 1500&#160;<span class="comment"># 相机蓝色增益</span></div> <div class="line"><span class="keywordtype">uint32_t</span> g_gain = 1500&#160;<span class="comment"># 相机绿色增益</span></div> <div class="line"><span class="keywordtype">uint32_t</span> r_gain = 1500&#160;<span class="comment"># 相机红色增益</span></div> <div class="line"><span class="keywordtype">int</span> auto_exposure = 0&#160;&#160;<span class="comment"># 相机自动曝光模式</span></div> <div class="line"><span class="keywordtype">int</span> auto_wb = 0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment"># 相机自动白平衡模式</span></div> <div class="line"></div> <div class="line"><span class="comment">#################### 设备参数 ####################</span></div> <div class="line"><span class="keywordtype">int</span> grab_mode = 1&#160;&#160;&#160;&#160;&#160;<span class="comment"># 相机 grab 模式</span></div> <div class="line"><span class="keywordtype">int</span> retrieve_mode = 1&#160;<span class="comment"># 相机 retrieve 模式</span></div> <div class="line"><span class="keywordtype">string</span> serial_number&#160;&#160;<span class="comment"># 相机序列号</span></div> </div><p>这里列出参数规范文件的参数类型表</p>
<div class="full_width_table"></div><div class="full_width_table"><center></center></div><div class="full_width_table"><center>表1：参数类型表</center></div><div class="full_width_table"><center></center></div><div class="full_width_table"><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">数据类型  </th><th class="markdownTableHeadLeft">含义  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">基本类型  </td><td class="markdownTableBodyLeft">1. 包括 <span class="tt">int</span>、<span class="tt">uint8_t</span>、<span class="tt">double</span>、<span class="tt">float</span>、<span class="tt">string</span> 等<br  />
2. 对标 C++ 的基础类型和 <span class="tt">std::string</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">矩阵类型  </td><td class="markdownTableBodyLeft">1. 包括形如 <span class="tt">Matx??</span>、<span class="tt">Vec?</span> 的类型，例如 <span class="tt">Matx22f</span><br  />
2. 对标 OpenCV 的 <span class="tt">cv::Matx</span> 和 <span class="tt">cv::Vec</span><br  />
3. 可使用列表初始化和相关静态函数初始化，例如 <span class="tt">Matx22f::eye()</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">复合类型  </td><td class="markdownTableBodyLeft">1. 包括 <span class="tt">vector</span> 和形如 <span class="tt">Point?</span> 的类型<br  />
2. 对标 C++ 的 <span class="tt">std::vector</span> 以及 OpenCV 的<span class="tt">cv::Point2?</span> 和 <span class="tt">cv::Point3?</span><br  />
3. 只能使用列表初始化，例如 <span class="tt">{1, 2, 3}</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">枚举类型  </td><td class="markdownTableBodyLeft">1. 需要用户自定以 <span class="tt">enum</span> 开头和 <span class="tt">endenum</span> 结尾的数据类型声明<br  />
2. 对标 C++ 的有作用域枚举类型 <span class="tt">enum class</span><br  />
3. 变量的定义上与有作用域枚举类型一致，例如 <span class="tt">Color COLOR_MODE = Color::RED</span>  </td></tr>
</table>
</div><div class="full_width_table"></div><p>如果要给某一条参数设置默认值，需要使用 <span class="tt">=</span> 完成，不需要默认参数（仅由运行时加载设置）则不需要使用 <span class="tt">=</span> 进行赋值，例如</p>
<div class="fragment"> <div class="line"><span class="keywordtype">int</span> grab_mode = 1</div> <div class="line"><span class="keywordtype">string</span> serial_number</div> </div><p>如果要给某一参数设置注释信息，请<span style="color: red">尾置</span> <span class="tt">#</span> 并输入相应注释信息，例如</p>
<div class="fragment"> <div class="line"><span class="keywordtype">float</span> exposure = 1500&#160;<span class="comment"># 相机曝光</span></div> <div class="line"><span class="keywordtype">float</span> gain = 64&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment"># 相机数字增益</span></div> </div><dl class="section note"><dt>注解</dt><dd><ul>
<li><code>#</code> 和注释信息之间<u><b>不必</b></u>使用空格分隔，例如 <code>#相机曝光</code></li>
</ul>
</dd></dl>
<p>枚举类型可在每个枚举项后加上具体的值，也能使用 <span class="tt">#</span> 为枚举项添加注释，例如</p>
<div class="fragment"> <div class="line"><span class="keyword">enum</span>&#160;<span class="keywordtype">ColorMode</span>&#160;<span class="comment"># 颜色类型</span></div> <div class="line">&#160;&#160;RED&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment"># 红色</span></div> <div class="line">&#160;&#160;GREEN&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment"># 绿色</span></div> <div class="line">&#160;&#160;BLUE = 4&#160;&#160;&#160;&#160;&#160;<span class="comment"># 蓝色</span></div> <div class="line">&#160;&#160;GRAY = 5</div> <div class="line"><span class="keyword">endenum</span></div> <div class="line"></div> <div class="line"><span class="keywordtype">ColorMode</span> COLOR = ColorMode::RED&#160;<span class="comment"># 颜色信息</span></div> </div><h2 class="doxsection"><a class="anchor" id="autotoc_md360"></a>
3 C++ 代码生成</h2>
<p>从 <span class="tt">*.para</span> 到对应的 C++ 代码生成的过程依赖 RMVL 提供的两条 CMake 函数，分别是</p>
<ul>
<li><span class="tt">rmvl_generate_para</span></li>
<li><span class="tt">rmvl_generate_module_para</span></li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md361"></a>
3.1 rmvl_generate_para</h3>
<p>根据指定的目标名在 param 文件夹下对应的 *.para 参数规范文件和可选的模块名生成对应的 C++ 代码。</p>
<p><b>用法</b></p>
<div class="fragment"> <div class="line"><span class="keyword">rmvl_generate_para</span>(</div> <div class="line">&#160;&#160;&lt;target_name&gt;</div> <div class="line">&#160;&#160;[<span class="keyword">MODULE</span> module_name]</div> <div class="line">)</div> </div><p><b>示例</b></p>
<div class="fragment"> <div class="line"><span class="keyword">rmvl_generate_para</span>(</div> <div class="line">&#160;&#160;mytarget&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment"># 目标名称</span></div> <div class="line">&#160;&#160;<span class="keyword">MODULE</span> mymodule&#160;<span class="comment"># 模块名称为 mymodule</span></div> <div class="line">)</div> </div><p>表示解析当前目录下的 <span class="tt">param/mytarget.para</span> 文件，并作为模块 <span class="tt">mymodule</span> 的子模块。最终生成的文件是</p>
<ul>
<li><span class="tt">include/rmvlpara/mymodule/mytarget.h</span>，<span class="tt">include/rmvlpara</span> 后文简记为 <span class="tt">&lt;prefix&gt;</span></li>
<li><span class="tt">src/para/mytarget.cpp</span></li>
</ul>
<p>这样的话会为参数模块汇总的头文件 <span class="tt">&lt;prefix&gt;/mymodule.hpp</span> 添加 <span class="tt">&lt;prefix&gt;/mymodule/mytarget.h</span> 文件的包含，即会在 <span class="tt">&lt;prefix&gt;/mymodule.hpp</span> 中添加</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;mymodule/mytarget.h&quot;</span></div>
</div><!-- fragment --><p>如果 <span class="tt">mytarget</span> 需要自成一个模块的话，那么在调用 <span class="tt">rmvl_generate_para</span> 函数的时候应该写为</p>
<div class="fragment"> <div class="line"><span class="keyword">rmvl_generate_para</span>(mytarget)</div> </div><p>这样就会生成一个名为 <span class="tt">mytarget</span> 的参数模块了，最终生成的文件是</p>
<ul>
<li><span class="tt">include/rmvlpara/mytarget.hpp</span></li>
<li><span class="tt">src/para/mytarget.cpp</span></li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md362"></a>
3.2 rmvl_generate_module_para</h3>
<p>根据给定模块下所有的 para 目标，生成对应的 C++ 代码</p>
<p><b>用法</b></p>
<div class="fragment"> <div class="line"><span class="keyword">rmvl_generate_module_para</span>(&lt;module_name&gt;)</div> </div><p><b>示例</b></p>
<div class="fragment"> <div class="line"><span class="keyword">rmvl_generate_module_para</span>(mymodule)</div> </div><p>表示将模块 <span class="tt">mymodule</span> 中的所有子模块打包至参数模块汇总头文件 <span class="tt">&lt;prefix&gt;/mymodule.hpp</span> ，例如，如果在 <span class="tt">CMakeLists.txt</span> 中写入</p>
<div class="fragment"> <div class="line"><span class="keyword">rmvl_generate_para</span>(a1&#160;<span class="keyword">MODULE</span>&#160;m)</div> <div class="line"><span class="keyword">rmvl_generate_para</span>(a2&#160;<span class="keyword">MODULE</span>&#160;m)</div> <div class="line"><span class="keyword">rmvl_generate_para</span>(a3&#160;<span class="keyword">MODULE</span>&#160;m)</div> <div class="line"></div> <div class="line"><span class="keyword">rmvl_generate_module_para</span>(m)</div> </div><p>最后生成的 <span class="tt">&lt;prefix&gt;/m.hpp</span> 中就会包含</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;m/a1.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;m/a2.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;m/a3.h&quot;</span></div>
</div><!-- fragment --><p>以上内容均是在 CMake 配置期间自动完成，只需定义好参数规范文件 <span class="tt">*.para</span> 以及相应的 CMake 函数即可。</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md363"></a>
4 运行时加载</h2>
<h3 class="doxsection"><a class="anchor" id="autotoc_md364"></a>
4.1 加载方式</h3>
<p>例如，对于以下的 <span class="tt">test.para</span> 文件</p>
<div class="fragment"> <div class="line"><span class="keywordtype">int</span> abc = 10&#160;<span class="comment"># 测试数</span></div> </div><p>在使用 <span class="tt">rmvl_generate_para(test)</span> 之后，生成的头文件代码中，类相关的代码如下</p>
<div class="fragment"> <div class="line"><span class="comment">//! TestParam 参数模块</span></div> <div class="line"><span class="keyword">class</span>&#160;RMVL_EXPORTS_W TestParam {</div> <div class="line"><span class="keyword">public</span>:</div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment">//! 测试数 @note 默认值：`10`</span></div> <div class="line">&#160;&#160;&#160;&#160;<span class="keywordtype">int</span> abc = 10;</div> <div class="line"></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment">//! 创建 TestParam 参数对象 @warning 不建议手动创建对象</span></div> <div class="line">&#160;&#160;&#160;&#160;RMVL_W TestParam() = <span class="keywordflow">default</span>;</div> <div class="line"></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment">/**</span></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment"> * @brief 从指定 `YAML` 文件中加载 `TestParam`</span></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment"> *</span></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment"> * @note `YAML` 文件的后缀允许是 `*.yml` 和 `*.yaml`</span></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment"> * @param[in] path 参数路径</span></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment"> * @return 是否加载成功</span></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment"> */</span></div> <div class="line">&#160;&#160;&#160;&#160;RMVL_W&#160;<span class="keywordtype">bool</span> read(<span class="keyword">const</span> std::string &amp;path);</div> <div class="line"></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment">/**</span></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment"> * @brief 将 `TestParam` 的数据写入指定的 `YAML` 文件中</span></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment"> *</span></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment"> * @note `YAML` 文件的后缀允许是 `*.yml` 和 `*.yaml`</span></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment"> * @param[in] path 参数路径</span></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment"> * @return 是否写入成功</span></div> <div class="line">&#160;&#160;&#160;&#160;<span class="comment"> */</span></div> <div class="line">&#160;&#160;&#160;&#160;RMVL_W&#160;<span class="keywordtype">bool</span> write(<span class="keyword">const</span> std::string &amp;path) <span class="keyword">const</span>;</div> <div class="line">};</div> <div class="line"></div> <div class="line"><span class="comment">//! TestParam 参数模块</span></div> <div class="line"><span class="keyword">inline</span>&#160;TestParam test_param;</div> </div><p>其中包含了运行时参数导入和导出的接口 <span class="tt">read</span> 和 <span class="tt">write</span>，以 <a class="el" href="../../d9/d6f/group__para__algorithm.html">algorithm 的参数模块</a> 为例，<span class="tt"><a class="el" href="../../d4/da1/classrm_1_1para_1_1AlgorithmParam.html#a5fa44d751710dbf5731635a5c9657c1c" title="从指定 YAML 文件中加载，并读取至 AlgorithmParam 中">rm::para::AlgorithmParam::read</a></span> 用于运行时读取 YAML 文件并配置 algorithm 模块的参数，<span class="tt"><a class="el" href="../../d4/da1/classrm_1_1para_1_1AlgorithmParam.html#a07a26d44154b5864fea3eec801fd647d" title="将 AlgorithmParam 的数据写入指定的 YAML 文件中">rm::para::AlgorithmParam::write</a></span> 用于将当前 algorithm 模块的参数写入到 YAML 文件中。</p>
<p>用户可以通过使用类似以下的代码完成运行时加载</p>
<div class="fragment"><div class="line"><span class="comment">/* code */</span></div>
<div class="line"><a class="code hl_variable" href="../../d9/d6f/group__para__algorithm.html#ga53c0a2fe632cf1f3bb67aff47b8873b6">rm::para::algorithm_param</a>.read(prefix_path + <span class="stringliteral">&quot;algorithm.yml&quot;</span>);</div>
<div class="line"><span class="comment">/* code */</span></div>
<div class="ttc" id="agroup__para__algorithm_html_ga53c0a2fe632cf1f3bb67aff47b8873b6"><div class="ttname"><a href="../../d9/d6f/group__para__algorithm.html#ga53c0a2fe632cf1f3bb67aff47b8873b6">rm::para::algorithm_param</a></div><div class="ttdeci">AlgorithmParam algorithm_param</div><div class="ttdoc">AlgorithmParam 参数模块</div><div class="ttdef"><b>定义</b> algorithm.hpp:73</div></div>
</div><!-- fragment --><h3 class="doxsection"><a class="anchor" id="autotoc_md365"></a>
4.2 YAML 文件格式</h3>
<p>对于某个 <span class="tt">*.para</span> 文件中的参数，可以通过 YAML 文件进行运行时配置，例如</p>
<div class="fragment"> <div class="line"><span class="keywordtype">int</span> num = 10&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment"># Test number</span></div> <div class="line"><span class="keywordtype">float</span> value = 4.2&#160;<span class="comment"># Test value</span></div> <div class="line"><span class="keywordtype">string</span> name&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="comment"># Test name</span></div> </div><p>对应的 YAML 文件可以写为</p>
<div class="fragment"> <div class="line"><span class="comment"># test.yml</span></div> <div class="line">YAML:1.0</div> <div class="line">---</div> <div class="line"></div> <div class="line"><span class="keywordtype">num</span>: 20</div> <div class="line"><span class="keywordtype">name</span>: <span class="stringliteral">"Hello, RMVL"</span></div> </div><p>在程序调用</p>
<div class="fragment"><div class="line">rm::para::test_param.read(prefix_path + <span class="stringliteral">&quot;test.yml&quot;</span>);</div>
</div><!-- fragment --><p>时，会实时加载该 YAML 文件，此时</p>
<ul>
<li><span class="tt">num</span> 的值会被设置为 <span class="tt">20</span></li>
<li><span class="tt">name</span> 的值会被设置为 <span class="tt">Hello, RMVL</span></li>
<li><span class="tt">value</span> 在 YAML 文件中为设置该值，因此 <span class="tt">value</span> 的值会保持不变，即为默认的 <span class="tt">4.2</span> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../../doxygen.svg" alt="doxygen"/>
</a> 1.15.0
</small></address>
<script type="text/javascript">
//<![CDATA[
addTutorialsButtons();
//]]>
</script>
</body>
</html>
